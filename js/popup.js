const filmDescriptions = {
    episode1: {
        title: "Épisode I : La Menace Fantôme (1999)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>La République Galactique est en pleine crise. La planète Naboo est bloquée par la Fédération du Commerce. Les Chevaliers Jedi Qui-Gon Jinn et son apprenti Obi-Wan Kenobi sont envoyés pour résoudre ce conflit. Sur Tatooine, ils découvrent un jeune esclave, Anakin Skywalker, dont la concentration en midi-chloriens est exceptionnelle. Pendant ce temps, les Sith, ennemis jurés des Jedi, refont surface après un millénaire de disparition.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Qui-Gon Jinn</strong> - Maître Jedi sage et non-conformiste</li>
                        <li><strong>Obi-Wan Kenobi</strong> - Padawan prometteur et dévoué</li>
                        <li><strong>Anakin Skywalker</strong> - Jeune esclave au potentiel Force extraordinaire</li>
                        <li><strong>Padmé Amidala</strong> - Jeune reine de Naboo</li>
                        <li><strong>Dark Maul</strong> - Seigneur Sith mystérieux et redoutable</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Premier film Star Wars à utiliser massivement les effets numériques</li>
                        <li>Introduction des midi-chloriens dans l'univers Star Wars</li>
                        <li>Le personnage de Jar Jar Binks est la première création entièrement numérique</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode2: {
        title: "Épisode II : L'Attaque des Clones (2002)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>Dix ans après les événements de La Menace Fantôme, la galaxie est au bord de la guerre civile. Après une tentative d'assassinat contre la sénatrice Padmé Amidala, Obi-Wan Kenobi enquête sur une mystérieuse armée de clones tandis qu'Anakin Skywalker, chargé de protéger Padmé, développe des sentiments interdits pour elle. Une sombre conspiration se trame, menaçant la République.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Anakin Skywalker</strong> - Padawan impétueux d'Obi-Wan</li>
                        <li><strong>Obi-Wan Kenobi</strong> - Maître Jedi enquêtant sur la conspiration</li>
                        <li><strong>Padmé Amidala</strong> - Sénatrice de Naboo</li>
                        <li><strong>Comte Dooku</strong> - Ancien Jedi devenu leader séparatiste</li>
                        <li><strong>Jango Fett</strong> - Chasseur de primes et modèle des clones</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Première apparition de l'armée de clones</li>
                        <li>Premier duel au sabre laser de Yoda à l'écran</li>
                        <li>Christopher Lee (Comte Dooku) était un expert en escrime</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode3: {
        title: "Épisode III : La Revanche des Sith (2005)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>Les Guerres des Clones font rage. Anakin Skywalker succombe peu à peu au Côté Obscur, manipulé par le Chancelier Palpatine qui révèle sa véritable nature de Seigneur Sith. Alors que l'Ordre Jedi est décimé par l'Ordre 66, la République se transforme en Empire Galactique. Obi-Wan doit affronter son ancien apprenti devenu Dark Vador, tandis que Padmé donne naissance aux jumeaux Luke et Leia.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Anakin Skywalker/Dark Vador</strong> - Jedi tombant du Côté Obscur</li>
                        <li><strong>Obi-Wan Kenobi</strong> - Maître Jedi confronté à la trahison</li>
                        <li><strong>Padmé Amidala</strong> - Sénatrice et épouse secrète d'Anakin</li>
                        <li><strong>Palpatine/Dark Sidious</strong> - Seigneur Sith manipulateur</li>
                        <li><strong>Yoda</strong> - Grand Maître Jedi face à l'échec de l'Ordre</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Le film le plus sombre de la prélogie</li>
                        <li>La transformation en Dark Vador a nécessité plus de 3h de maquillage</li>
                        <li>Le duel final est le plus long de la saga</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode4: {
        title: "Épisode IV : Un Nouvel Espoir (1977)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>C'est le premier film de la saga Star Wars. La galaxie est sous le joug de l'Empire Galactique. La Princesse Leia, membre de l'Alliance Rebelle, a dérobé les plans de l'Étoile de la Mort, une station spatiale capable de détruire des planètes. Luke Skywalker, un jeune fermier de Tatooine, se retrouve impliqué dans la lutte contre l'Empire après avoir rencontré le mystérieux Obi-Wan Kenobi.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Luke Skywalker</strong> - Jeune fermier destiné à devenir Jedi</li>
                        <li><strong>Princesse Leia</strong> - Leader de la Rébellion</li>
                        <li><strong>Han Solo</strong> - Contrebandier mercenaire</li>
                        <li><strong>Obi-Wan Kenobi</strong> - Ancien Maître Jedi en exil</li>
                        <li><strong>Dark Vador</strong> - Seigneur Sith au service de l'Empire</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Le film qui a révolutionné les effets spéciaux au cinéma</li>
                        <li>Harrison Ford était à l'origine menuisier sur le plateau</li>
                        <li>Le film a été sauvé au montage par la femme de George Lucas</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode5: {
        title: "Épisode V : L'Empire Contre-Attaque (1980)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>Après la destruction de l'Étoile de la Mort, l'Empire traque l'Alliance Rebelle. Luke Skywalker se rend sur la planète Dagobah pour suivre l'entraînement du Maître Jedi Yoda. Pendant ce temps, Han Solo, la Princesse Leia et leurs compagnons sont poursuivis par Dark Vador, qui tend un piège à Luke. S'ensuit une révélation qui changera à jamais le destin de la galaxie.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Luke Skywalker</strong> - Apprenti Jedi en formation</li>
                        <li><strong>Yoda</strong> - Grand Maître Jedi</li>
                        <li><strong>Dark Vador</strong> - Seigneur Sith à la recherche de Luke</li>
                        <li><strong>Lando Calrissian</strong> - Administrateur de la Cité des Nuages</li>
                        <li><strong>Boba Fett</strong> - Chasseur de primes légendaire</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Considéré comme le meilleur film de la saga par beaucoup de fans</li>
                        <li>La scène de la révélation a été gardée secrète même de l'équipe</li>
                        <li>Mark Hamill s'est cassé le nez juste avant le tournage</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode6: {
        title: "Épisode VI : Le Retour du Jedi (1983)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>L'Empire construit une nouvelle Étoile de la Mort. L'Alliance Rebelle lance une offensive désespérée pour détruire l'arme avant qu'elle ne soit opérationnelle. Luke Skywalker tente de ramener son père, Dark Vador, du côté lumineux de la Force, tandis que l'Empereur attend leur confrontation finale. Sur la lune forestière d'Endor, les Rebelles trouvent des alliés inattendus.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Luke Skywalker</strong> - Chevalier Jedi accompli</li>
                        <li><strong>Dark Vador/Anakin</strong> - Seigneur Sith en conflit</li>
                        <li><strong>L'Empereur</strong> - Maître Sith suprême</li>
                        <li><strong>Les Ewoks</strong> - Habitants primitifs d'Endor</li>
                        <li><strong>Jabba le Hutt</strong> - Seigneur du crime de Tatooine</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Les Ewoks devaient être des Wookiees à l'origine</li>
                        <li>C'est le premier film à utiliser le THX Sound System</li>
                        <li>La scène du palais de Jabba a nécessité 6 mois de tournage</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode7: {
        title: "Épisode VII : Le Réveil de la Force (2015)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>Trente ans après la chute de l'Empire, le Premier Ordre a pris sa place. La Résistance, soutenue par la République, s'oppose à cette nouvelle menace. Rey, une pilleuse d'épaves, découvre un droïde porteur d'une carte menant à Luke Skywalker, disparu depuis des années. Avec l'aide de Finn, un Stormtrooper déserteur, elle rejoint la Résistance dans leur lutte contre le Premier Ordre et le mystérieux Kylo Ren.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Rey</strong> - Pilleuse d'épaves sensible à la Force</li>
                        <li><strong>Finn</strong> - Stormtrooper en fuite</li>
                        <li><strong>Kylo Ren</strong> - Utilisateur du Côté Obscur</li>
                        <li><strong>Han Solo</strong> - Héros légendaire de retour</li>
                        <li><strong>BB-8</strong> - Droïde porteur d'informations cruciales</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Premier film Star Wars produit par Disney</li>
                        <li>BB-8 est un droïde physique, pas un effet numérique</li>
                        <li>Le film a battu de nombreux records au box-office</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode8: {
        title: "Épisode VIII : Les Derniers Jedi (2017)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>Le Premier Ordre traque les derniers membres de la Résistance. Rey commence son entraînement Jedi avec Luke Skywalker, qui vit en ermite et refuse de rejoindre le combat. Pendant ce temps, la connexion entre Rey et Kylo Ren s'intensifie, révélant des vérités complexes sur la Force et l'avenir de la galaxie. La Résistance fait face à sa plus grande épreuve.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Luke Skywalker</strong> - Dernier Maître Jedi</li>
                        <li><strong>Rey</strong> - Apprentie en quête de réponses</li>
                        <li><strong>Kylo Ren</strong> - Héritier de Vador tiraillé</li>
                        <li><strong>Leia Organa</strong> - Générale de la Résistance</li>
                        <li><strong>Snoke</strong> - Leader Suprême mystérieux</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Le film le plus long de la saga</li>
                        <li>Carrie Fisher a terminé son tournage avant son décès</li>
                        <li>Les porgs ont été créés pour masquer les macareux réels de l'île</li>
                    </ul>
                </div>
            </div>
        `
    },
    episode9: {
        title: "Épisode IX : L'Ascension de Skywalker (2019)",
        description: `
            <div class="film-details">
                <div class="synopsis">
                    <h3>Synopsis</h3>
                    <p>L'empereur Palpatine est mystérieusement revenu. Kylo Ren le recherche, tandis que la Résistance se prépare pour la bataille finale. Rey poursuit son entraînement et découvre des secrets sur ses origines. La conclusion de la saga Skywalker révèle des vérités anciennes et met en scène l'ultime combat entre les Jedi et les Sith.</p>
                </div>

                <div class="key-elements">
                    <h3>Personnages Clés</h3>
                    <ul>
                        <li><strong>Rey</strong> - Dernière espoir des Jedi</li>
                        <li><strong>Kylo Ren/Ben Solo</strong> - Suprême Leader en conflit</li>
                        <li><strong>Palpatine</strong> - Empereur Sith ressuscité</li>
                        <li><strong>Finn</strong> - Ancien Stormtrooper devenu leader</li>
                        <li><strong>Poe Dameron</strong> - Commandant de la Résistance</li>
                    </ul>
                </div>

                <div class="fun-facts">
                    <h3>Le Saviez-vous ?</h3>
                    <ul>
                        <li>Conclusion de la saga Skywalker après 42 ans</li>
                        <li>Utilise des séquences inédites de Carrie Fisher</li>
                        <li>Contient des références à tous les films précédents</li>
                    </ul>
                </div>
            </div>
        `
    }
};

function openPopup(episodeId) {
    const modal = document.getElementById('filmModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalDescription');
    
    // Mise à jour du contenu
    modalTitle.textContent = filmDescriptions[episodeId].title;
    modalContent.innerHTML = filmDescriptions[episodeId].description;
    
    // Affichage de la modal avec animation
    modal.style.display = 'block';
    modal.classList.add('active');
    
    // Désactive le défilement du body
    document.body.style.overflow = 'hidden';
    
    // Focus sur la modal pour la navigation au clavier
    modal.focus();
}

function closePopup() {
    const modal = document.getElementById('filmModal');
    
    // Animation de fermeture
    modal.classList.remove('active');
    modal.style.opacity = '0';
    
    // Attend la fin de l'animation avant de cacher la modal
    setTimeout(() => {
        modal.style.display = 'none';
        modal.style.opacity = '1';
        // Réactive le défilement du body
        document.body.style.overflow = 'auto';
    }, 300);
}

// Fermeture avec la touche Echap
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        closePopup();
    }
});

// Fermeture en cliquant en dehors de la modal
window.onclick = function(event) {
    const modal = document.getElementById('filmModal');
    if (event.target === modal) {
        closePopup();
    }
}

// Empêcher la propagation du clic dans la modal
document.querySelector('.modal-content').addEventListener('click', function(event) {
    event.stopPropagation();
}); 